!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var r=n(1),i=o(r),a=n(2),l=o(a),s=n(3),c=o(s),u=n(4),d=o(u),m=n(5),v=o(m);!function(){function e(){!0===M&&a()}function t(e){var t=e.getBoundingClientRect();return t.top>=-Math.abs(t.height/4)&&t.left>=0&&t.bottom<=(window.innerHeight+t.height/2||document.documentElement.clientHeight+t.height/2)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(){var e=x.querySelector(".organ-success"),o=x.querySelectorAll(".organ-queue"),r=o[o.length-1];if((t(e)||t(r))&&!_){var i={useEasing:!0,useGrouping:!0,separator:",",decimal:"."};x.querySelectorAll(".stat-number").forEach(function(e,t){var n=new v.default(e,0,N[t],0,5,i);n.error?console.error(n.error):n.start()}),_=!0,window.removeEventListener("scroll",n,!1)}}function o(){if(!R){var e=F.querySelector("#fact-wrapper");S=e.querySelectorAll(".fact"),t(e)&&(H.play(),R=!0,window.removeEventListener("scroll",o,!1))}}function r(){H.to(S[0],1,{opacity:1,top:0}),H.to(S[1],1,{opacity:1,top:0}),H.to(S[2],1,{opacity:1,top:0})}function a(){M?(M=!1,E.classList.remove("ion-android-close"),E.classList.add("ion-android-menu"),q.classList.remove("openmenu")):(M=!0,E.classList.remove("ion-android-menu"),E.classList.add("ion-android-close"),q.classList.add("openmenu"))}function s(e){switch(e.preventDefault(),e.currentTarget.id){case"header-logo":case"footer-logo":L.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-facts":F.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-stats":A.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-myths":z.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-video":I.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-events":T.scrollIntoView({block:"start",inline:"start",behavior:"smooth"});break;case"menu-insta":C.scrollIntoView({block:"start",inline:"start",behavior:"smooth"})}}function u(){var e=k.querySelectorAll(".banner-photo");j.to(e[1],2,{opacity:1},"+=5.0"),j.to(e[2],2,{opacity:1},"+=5.0"),j.to(e[1],0,{opacity:0}),j.to(e[3],2,{opacity:1},"+=5.0"),j.to(e[2],0,{opacity:0}),j.to(e[4],2,{opacity:1},"+=5.0"),j.to(e[3],0,{opacity:0}),j.to(e[5],2,{opacity:1},"+=5.0"),j.to(e[4],0,{opacity:0}),j.to(e[6],2,{opacity:1},"+=5.0"),j.to(e[5],0,{opacity:0}),j.to(e[7],2,{opacity:1},"+=5.0"),j.to(e[6],0,{opacity:0}),j.to(e[7],2,{opacity:0},"+=5.0"),j.play()}function m(){fetch("banner/getAll").then(function(e){return e.json()}).then(function(e){e.banner.forEach(function(e){var t=e.photo,n=e.alt,o='<img class="banner-photo media-change" src="images/'+t+'_large.jpg" alt="'+n+'">';k.innerHTML+=o}),i.default.setImageSize.call(document.querySelectorAll(".media-change")),u()}).catch(function(e){console.log(e)})}function f(){fetch("facts/getAll").then(function(e){return e.json()}).then(function(e){var t=document.querySelector("#fact-wrapper");e.facts.forEach(function(e){var n=e.name,o=e.description,r='<div id="'+n+'" class="fact">\n              <p class="fact-desc">'+o+"</p>\n              </div>";t.innerHTML+=r}),S=F.querySelectorAll(".fact"),window.addEventListener("scroll",o,!1)}).catch(function(e){console.log(e)})}function p(){fetch("stats/getAll").then(function(e){return e.json()}).then(function(e){var t=A.querySelector("#stats-wrapper > ul");e.stats.forEach(function(e){N.push(e.success),N.push(e.queue);var n='<li><div class="stats-organ"><div class="icon-wrapper"><img src="images/'+e.icon+'.svg" alt="'+e.organ_title+' icon"></div><p class="organ-name">'+e.organ_title+'</p></div><div class="organ-success"><p class="stat-number">0</p></div><div class="organ-queue"><p class="stat-number">0</p></div></li>';t.innerHTML+=n}),window.addEventListener("scroll",n,!1)}).catch(function(e){console.log(e)})}function h(){fetch("video/get").then(function(e){return e.json()}).then(function(e){var t=e.video[0],n=document.querySelector("#video-wrapper"),o='<video id="video" class="video-change" poster="images/'+t.placeholder+'_large.jpg">\n              <source src="videos/'+t.video+'_large.mp4"></source>\n              <source src="videos/'+t.video+'_large.webm"></source>\n              <source src="videos/'+t.video+'_large.ogv"></source>\n              </video>\n              <div id="over-video"><div id="video-btn">\n                  <i class="ion-play" aria-hidden="true"></i>\n                </div></div><div id="video-controls">\n                    <div id="seek-bar"><span></span></div>\n                  <div id="button-wrapper" class="clearfix">\n                      <div id="play-btn"><i class="ion-play video-ctrl-bt" aria-hidden="true"></i></div>\n                      <p id="video-time">0:00</p><div id="full-btn">\n                      <i class="ion-arrow-expand video-ctrl-bt" aria-hidden="true"></i>\n                      </div><div id="volume-bar"><div id="volume-bg"></div><div id="volume-fg"></div></div><div id="volume-btn">\n                        <i class="ion-android-volume-up video-ctrl-bt" aria-hidden="true"></i></div></div></div>';n.innerHTML=o,i.default.setVideoSize.call(document.querySelectorAll(".video-change"))}).catch(function(e){console.log(e)})}function g(){fetch("myths/getAll").then(function(e){return e.json()}).then(function(e){var t=document.querySelector("#myths-list");e.myths.forEach(function(e){var n=e.title,o=e.text,r=e.position;if(r<10)var i="0"+r;else var i=r;var a='<li><span class="coloured">'+i+".</span><h4>"+n+"</h4><p>"+o+"</p></li>";t.innerHTML+=a})}).catch(function(e){console.log(e)})}function y(){var e,t=document.querySelector("#events-container"),n=t.children.length,o=i.default.checkScreenSize();"small"==o&&(e=100),"medium"==o&&(e=50),"large"==o&&(e=25),t.style.width=n*e+"%",(0,l.default)()}function w(){var e,t=document.querySelector("#events-container"),n=i.default.checkScreenSize();"small"==n&&(e=100),"medium"==n&&(e=50),"large"==n&&(e=25),fetch("events/getAll").then(function(e){return e.json()}).then(function(n){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.width=n.events.length*e+"%",n.events.forEach(function(e){var n=e.title,o=e.date,r=e.time,i=e.address,a=e.partner,l=e.logo,s=e.link,c="";null!=r&&(c='<div class="inline"><h5>When:</h5><p>'+r+"</p></div>");var u='<div class="events">\n            <div class="event-data">\n              <h2>'+n+"</h2>\n              <h3>"+o+"</h3>\n              "+c+'\n              <div class="inline"><h5>Where:</h5><p>'+i+'</p></div>\n              <p class="tiny">in association with</p>\n              <img src="images/'+l+'.png" alt="'+a+'">\n              <a href="'+s+'"><p>Details</p></a>\n              </div>\n            </div>';t.innerHTML+=u}),(0,l.default)()}).catch(function(e){console.log(e)})}function b(){var e=this,t=c.default.instagramContent;t.name.forEach(function(n,o){var r=document.createElement("div");r.className="insta-item";var i=document.createElement("div");i.className="insta-photo-wrapper";var a=document.createElement("img");a.src="images/"+t.photo[o]+"_large.jpg",a.alt=t.name[o],a.className="insta-photo media-change",i.appendChild(a),r.appendChild(i);var l=document.createElement("div");l.className="insta-post";var s=document.createElement("p");s.className="insta-name",s.innerHTML=t.name[o],l.appendChild(s);var c=document.createElement("p");c.className="insta-user",c.innerHTML=t.username[o],l.appendChild(c);var u=document.createElement("p");u.className="insta-text",u.innerHTML=t.desc[o],l.appendChild(u),r.appendChild(l),e.appendChild(r)})}var S,L=document.querySelector("body"),q=document.querySelector("header"),E=q.querySelector("#hamburger-menu"),V=document.querySelectorAll(".section-link"),k=document.querySelector("#main-banner"),F=document.querySelector("#facts"),A=document.querySelector("#stats"),x=A.querySelector("#stats-wrapper > ul"),z=document.querySelector("#myths"),I=document.querySelector("#video-cont"),T=document.querySelector("#events"),C=document.querySelector("#instagram"),M=!1,_=!1,R=!1,N=[];if(document.querySelector("#submit")){document.querySelector("#submit").addEventListener("click",checkRequest,!1)}var j=new TimelineMax({repeat:-1,paused:!0}),H=new TimelineLite({paused:!0});i.default.checkScreenSize.call(window.innerWidth),m.call(),f.call(),p.call(),g.call(),w.call(),h.call(),b.call(C.querySelector("#insta-wrapper")),window.addEventListener("load",d.default,!1),window.addEventListener("load",r,!1),window.addEventListener("resize",y,!1),window.addEventListener("resize",i.default.checkScreenSize,!1),window.addEventListener("resize",i.default.changeImageSize,!1),window.addEventListener("scroll",e,!1),E.addEventListener("click",a,!1),V.forEach(function(e){e.addEventListener("click",s,!1)})}()},function(e,t,n){"use strict";function o(){return l=this<s||window.innerWidth<s?"small":this<c||window.innerWidth<c?"medium":"large"}function r(){for(var e=0;e<this.length;e++)this[e].src=this[e].src.replace("large",l);u=l}function i(){for(var e=0;e<this.length;e++){this[e].poster=this[e].poster.replace("large",l);for(var t=this[e].querySelectorAll("source"),n=0;n<t.length;n++)t[n].src=t[n].src.replace("large",l)}u=l}function a(){if(u!==l){for(var e=document.querySelectorAll(".media-change"),t=0;t<e.length;t++)e[t].src=e[t].src.replace(u,l);for(var n=document.querySelectorAll(".video-change"),o=0;o<n.length;o++){n[o].poster=n[o].poster.replace(u,l);for(var r=n[o].querySelectorAll("source"),i=0;i<r.length;i++)r[i].src=r[i].src.replace(u,l)}u=l}}var l,s=640,c=1024,u="large";e.exports={checkScreenSize:o,setImageSize:r,changeImageSize:a,setVideoSize:i}},function(e,t,n){"use strict";function o(){function e(){0!==u?d(1):0===u?r.style.left=u+"px":(u=(i-1)*-s,r.style.left=u+"px")}function t(){var e=r.getBoundingClientRect().right;if(window.innerWidth>640){e-c<5?(u=0,r.style.left="0px"):u>(i-1)*-l?d(-1):(u=0,r.style.left=u+"px")}else u>(i-1)*-l?d(-1):(u=0,r.style.left=u+"px")}var n=document.querySelector(".nav-back"),o=document.querySelector(".nav-forward"),r=document.querySelector("#events-container"),i=r.children.length,a=r.querySelectorAll(".events"),l=a[0].offsetWidth,s=r.offsetWidth,c=document.querySelector(".events-holder").getBoundingClientRect().right,u=0,d=function(e){u+=e*l,r.style.left=u+"px"};n.addEventListener("click",e,!1),o.addEventListener("click",t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){"use strict";var o={name:["Peter & Marcie","Lisa Bennet","Ellie Cho","Monica & Rachel"],username:["@petersmith","@plisabennet22","@elliecho","monicageller"],photo:["gallery_peter","gallery_lisa","gallery_ellie","gallery_monica"],desc:["It was 1998 when my wife was told her liver was severely damaged. Devastated, spending months in the hospital, I will never forget how organ donors saved my wife and in turn, my own life. The miracle of life and the selflessness of other people will be something that we hold in our hearts forever.","All my life I’ve wanted to help other people. It’s always been my dream to work for dentists without borders. Yet, I was diagnosed with chronic kidney disease. Suddenly, everyday tasks became harder and harder. I owe my life to the organ donors that gave me a future. Today I am graduating my undergrad and applying to dental school!","Since birth Ellie had hard time breathing. What was originally thought to be asthma, was diagnosed as an underdeveloped heart. She couldn’t walk or eat and eventually she was put into intensive care. If it wasn’t for organ donation she would never have been able to live a normal life and for that we are eternally grateful.","I was always tired as a child, I had trouble keeping up with kids in sports and activities. When I was 12, we found out one of my kidneys was underdeveloped, and the other was failing. It was the end of my life, I thought. I owe my entire world to my mother, who volunteered to donate a kidney and gave me a future."]};e.exports={instagramContent:o}},function(e,t,n){"use strict";function o(){function e(){var e=A.querySelector(".video-ctrl-bt");V.paused?(S=l(V.duration),q.style.backgroundColor="transparent",V.play(),m(e),E.style.display="none",o(),N=!0):(V.pause(),v(e),E.style.display="block",i(),d(),N=!1)}function t(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():V.requestFullscreen?V.requestFullscreen():V.mozRequestFullScreen?V.mozRequestFullScreen():V.webkitRequestFullscreen?V.webkitRequestFullscreen():V.msRequestFullscreen&&V.msRequestFullscreen()}function n(){var e=V.currentTime/V.duration*100;z.style.width=e.toString()+"%"}function o(){console.log("adding handlers");var e=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;V.addEventListener("timeupdate",a,!1),V.addEventListener("timeupdate",n,!1),V.addEventListener("ended",f,!1),k.addEventListener("mouseout",s,!1),k.addEventListener("mouseover",c,!1),e||(q.addEventListener("mouseout",s,!1),q.addEventListener("mouseover",c,!1))}function r(e){var t=e.pageX,n=x.getBoundingClientRect(),o=n.right-n.left,r=(t-n.left)/o,i=V.duration*r;V.currentTime=i,z.style.width=(100*r).toString()+"%"}function i(){V.removeEventListener("timeupdate",a,!1),V.removeEventListener("ended",f,!1),q.removeEventListener("mouseout",s,!1),q.removeEventListener("mouseover",c,!1),k.removeEventListener("mouseout",s,!1),k.removeEventListener("mouseover",c,!1)}function a(){var e=l(V.currentTime);F.innerHTML=e+" / "+S}function l(e){var t=Math.floor(e),n=Math.floor(t/60),o=t-60*n;return n.toString()+":"+("0"+o.toString()).slice(-2)}function s(){u()}function c(){d()}function u(){TweenLite.to(k,1,{opacity:0})}function d(){TweenLite.to(k,1,{opacity:1})}function m(e){e.classList.remove("ion-play"),e.classList.add("ion-pause")}function v(e){e.classList.remove("ion-pause"),e.classList.add("ion-play")}function f(){var e=A.querySelector(".video-ctrl-bt");V.load(),v(e),E.style.display="block",F.innerHTML="0:00 / "+S,i(),d(),N=!1,z.style.width=null}function p(e){var t=e.pageX,n=C.getBoundingClientRect(),o=n.right-n.left,r=(t-n.left)/o,i=o*r/16;C.style.clip="rect(0, "+i+"rem, "+o/16+"rem, 0)",V.volume=r.toFixed(1),y()}function h(e){var t=e.pageX,n=C.getBoundingClientRect();t<n.left&&t>n.left-8?V.volume=0:t>n.right&&t<n.right+8&&(V.volume=1),g(),y()}function g(){var e=C.getBoundingClientRect(),t=e.right-e.left;C.style.clip="rect(0, "+V.volume*t/16+"rem, "+t/16+"rem, 0)"}function y(){for(var e=M.querySelector(".video-ctrl-bt"),t=void 0,n=0;n<e.classList.length;n++)e.classList[n].match("ion-android-volume")&&(t=e.classList[n]);e.classList.remove(t),0===V.volume?e.classList.add("ion-android-volume-off"):V.volume>.5?e.classList.add("ion-android-volume-up"):e.classList.add("ion-android-volume-down")}function w(){V.volume>0?(R=V.volume,V.volume=0):(V.volume=R,R=0),g(),y()}function b(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?(q.style.zIndex=2147483647,k.style.zIndex=2147483648,_.classList.remove("ion-arrow-expand"),_.classList.add("ion-arrow-shrink"),q.removeEventListener("mouseout",s,!1),q.removeEventListener("mouseover",c,!1),V.currentTime>0&&!V.paused&&!V.ended&&u()):(q.style.zIndex=null,k.style.zIndex=null,_.classList.remove("ion-arrow-shrink"),_.classList.add("ion-arrow-expand"),V.currentTime>0&&!V.paused&&!V.ended&&(q.addEventListener("mouseout",s,!1),q.addEventListener("mouseover",c,!1)))}var S,L=document.querySelector("#video-wrapper"),q=L.querySelector("#over-video"),E=q.querySelector("#video-btn"),V=document.querySelector("#video"),k=L.querySelector("#video-controls"),F=k.querySelector("#video-time"),A=k.querySelector("#play-btn"),x=k.querySelector("#seek-bar"),z=x.querySelector("span"),I=k.querySelector("#volume-bar"),T=I.querySelector("#volume-bg"),C=I.querySelector("#volume-fg"),M=k.querySelector("#volume-btn"),_=k.querySelector("#full-btn > .video-ctrl-bt"),R=0,N=!1;V.volume=.8,V.addEventListener("click",e,!1),q.addEventListener("click",e,!1),A.addEventListener("click",e,!1),_.addEventListener("click",t,!1),x.addEventListener("mousedown",r,!1),T.addEventListener("mousedown",p,!1),C.addEventListener("mousedown",p,!1),I.addEventListener("mousedown",h,!1),M.addEventListener("click",w,!1),document.addEventListener("webkitfullscreenchange",b,!1),document.addEventListener("mozfullscreenchange",b,!1),document.addEventListener("fullscreenchange",b,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o},function(e,t,n){var o,r;!function(i,a){o=a,void 0!==(r="function"==typeof o?o.call(t,n,t,e):o)&&(e.exports=r)}(0,function(e,t,n){return function(e,t,n,o,r,i){function a(e){var t,n,o,r,i,a,l=e<0;if(e=Math.abs(e).toFixed(c.decimals),e+="",t=e.split("."),n=t[0],o=t.length>1?c.options.decimal+t[1]:"",c.options.useGrouping){for(r="",i=0,a=n.length;i<a;++i)0!==i&&i%3==0&&(r=c.options.separator+r),r=n[a-i-1]+r;n=r}return c.options.numerals.length&&(n=n.replace(/[0-9]/g,function(e){return c.options.numerals[+e]}),o=o.replace(/[0-9]/g,function(e){return c.options.numerals[+e]})),(l?"-":"")+c.options.prefix+n+o+c.options.suffix}function l(e,t,n,o){return n*(1-Math.pow(2,-10*e/o))*1024/1023+t}function s(e){return"number"==typeof e&&!isNaN(e)}var c=this;if(c.version=function(){return"1.9.3"},c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:l,formattingFn:a,prefix:"",suffix:"",numerals:[]},i&&"object"==typeof i)for(var u in c.options)i.hasOwnProperty(u)&&null!==i[u]&&(c.options[u]=i[u]);""===c.options.separator?c.options.useGrouping=!1:c.options.separator=""+c.options.separator;for(var d=0,m=["webkit","moz","ms","o"],v=0;v<m.length&&!window.requestAnimationFrame;++v)window.requestAnimationFrame=window[m[v]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[m[v]+"CancelAnimationFrame"]||window[m[v]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var n=(new Date).getTime(),o=Math.max(0,16-(n-d)),r=window.setTimeout(function(){e(n+o)},o);return d=n+o,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)}),c.initialize=function(){return!(!c.initialized&&(c.error="",c.d="string"==typeof e?document.getElementById(e):e,c.d?(c.startVal=Number(t),c.endVal=Number(n),s(c.startVal)&&s(c.endVal)?(c.decimals=Math.max(0,o||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*Number(r)||2e3,c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.initialized=!0,0):(c.error="[CountUp] startVal ("+t+") or endVal ("+n+") is not a number",1)):(c.error="[CountUp] target is null or undefined",1)))},c.printValue=function(e){var t=c.options.formattingFn(e);"INPUT"===c.d.tagName?this.d.value=t:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=t:this.d.innerHTML=t},c.count=function(e){c.startTime||(c.startTime=e),c.timestamp=e;var t=e-c.startTime;c.remaining=c.duration-t,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.options.easingFn(t,0,c.startVal-c.endVal,c.duration):c.frameVal=c.options.easingFn(t,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(t/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(t/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),t<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(e){c.initialize()&&(c.callback=e,c.rAF=requestAnimationFrame(c.count))},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.initialized=!1,c.initialize()&&(cancelAnimationFrame(c.rAF),c.printValue(c.startVal))},c.update=function(e){if(c.initialize()){if(e=Number(e),!s(e))return void(c.error="[CountUp] update() - new endVal is not a number: "+e);c.error="",e!==c.frameVal&&(cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=e,c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count))}},c.initialize()&&c.printValue(c.startVal)}})}]);